import { GoogleGenerativeAI } from "@google/generative-ai";

 
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a 3-day, budget-friendly trip to Las Vegas for a couple. I've included hotel options, a detailed itinerary with timings, and information to help you make the most of your trip without breaking the bank.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap/Budget-Friendly\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night (depending on season and availability)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/e0/3b/3b/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1351,\n        \"longitude\": -115.1643\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme. Offers affordable rooms, a casino, and the Adventuredome indoor theme park.  Good for families and budget travelers.\",\n      \"amenities\": [\"Casino\", \"Pool\", \"Adventuredome Theme Park\", \"Restaurants\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/e0/3b/2f/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.7,\n      \"description\": \"A medieval-themed hotel located on the south end of the Strip. Offers affordable rooms, multiple restaurants, and a lively atmosphere.\",\n      \"amenities\": [\"Casino\", \"Pool\", \"Tournament of Kings Dinner Show\", \"Restaurants\"]\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$60 - $100 per night\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/e0/3b/32/luxor-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 3.8,\n      \"description\": \"An Egyptian-themed hotel with a distinctive pyramid shape. Offers a variety of entertainment options, including shows and a casino.\",\n      \"amenities\": [\"Casino\", \"Pool\", \"Titanic: The Artifact Exhibition\", \"Restaurants\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign, great for a photo opportunity. Free to visit.\",\n          \"placeImageUrl\": \"https://www.lasvegasnevada.gov/files/sharedassets/public/images/page-modules/new-page-modules/sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"15-20 minutes (from central strip hotels by car/ride share)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful seasonal displays of flowers and plants. Free to enter.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-chinese-new-year-2023-2100x1181.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1762\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable if staying on the central strip.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show synchronized to music. Free to watch. Shows every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/homepage-fountains-of-bellagio-2100x1181.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1762\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to the Conservatory.\"\n        },\n         {\n          \"placeName\": \"Explore the LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district. The High Roller observation wheel is here, but can be expensive. Just browsing and enjoying the atmosphere is free.\",\n          \"placeImageUrl\": \"https://res.cloudinary.com/simpleview/image/upload/crm/lasvegas/LINQ-Promenade-10_8224d98c-5056-a36a-0b12e3b20a1889e8.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1172,\n            \"longitude\": -115.1706\n          },\n          \"ticketPricing\": \"Free to browse, attractions individually priced.\",\n          \"timeToTravel\": \"Walkable from the Bellagio/Central Strip.\"\n        },\n        {\n          \"placeName\": \"Free Shows\",\n          \"placeDetails\": \"Many casinos offer free shows, like the volcano at the Mirage or the Fountains of Bellagio\",\n          \"placeImageUrl\": \"https://www.wheretraveler.com/sites/default/files/styles/body_width_400px/public/fountain_main.jpg?itok=XgG4y9-X\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1172,\n            \"longitude\": -115.1706\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Varies based on location on the Strip\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street) & Budget-Friendly Activities\",\n      \"bestTimeToVisit\": \"Evening (for the Fremont Street Experience light show)\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy displaying light shows and live music. Free to enter and watch the shows.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2023/05/vegas-experience-fremont-st.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"20-30 minutes by car/ride share from the Strip.  Consider the Deuce bus for a cheaper option.\"\n        },\n        {\n          \"placeName\": \"Explore Downtown Casinos\",\n          \"placeDetails\": \"Downtown casinos often have lower minimum bets than those on the Strip.  Explore the Golden Nugget, The D, and others.\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_limit,h_640,q_75,w_640/v1/clients/lasvegas/venues/Golden_Nugget/Golden_Nugget_41_1800x1200_f5a49323-e554-4ebc-a166-5f8070379d97.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1438\n          },\n          \"ticketPricing\": \"Free to enter (gambling costs vary!)\",\n          \"timeToTravel\": \"Walkable within Fremont Street Experience.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"An open-air shopping and dining area built from shipping containers.  Free to enter, shops and restaurants individually priced.\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_limit,h_640,q_75,w_640/v1/clients/lasvegas/venues/Container_Park_2/Container_Park_42_1800x1200_556d28e6-85e0-434b-ad5d-5300b8eb174b.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1674,\n            \"longitude\": -115.1406\n          },\n          \"ticketPricing\": \"Free to enter\",\n          \"timeToTravel\": \"Short walk from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Street Performers\",\n          \"placeDetails\": \"Fremont Street is known for its eclectic street performers.  Tipping is customary if you enjoy their performance.\",\n          \"placeImageUrl\": \"https://i.ytimg.com/vi/G9XqjL_zGtk/maxresdefault.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free (tips appreciated)\",\n          \"timeToTravel\": \"Located throughout Fremont Street Experience.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Mid-Strip & Some Hidden Gems\",\n      \"bestTimeToVisit\": \"Afternoon and Evening\",\n      \"activities\": [\n          {\n            \"placeName\": \"The Venetian & The Palazzo\",\n            \"placeDetails\": \"Walk through the Grand Canal Shoppes and enjoy the ambiance. Gondola rides are available but are not budget-friendly.\",\n            \"placeImageUrl\": \"https://media.cntraveler.com/photos/57d423b77376818655279014/master/w_1920%2Cc_limit/the-venetian-las-vegas-exterior.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1214,\n              \"longitude\": -115.1714\n            },\n            \"ticketPricing\": \"Free to walk around.\",\n            \"timeToTravel\": \"Walkable from central Strip hotels.\"\n          },\n        {\n          \"placeName\": \"Paris Las Vegas & the Eiffel Tower Viewing Deck\",\n          \"placeDetails\": \"See the Eiffel Tower replica and the hotel's French-themed decorations. Going up the Eiffel Tower Viewing Deck is an added cost, but you can admire it from the outside for free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/17/7f/f7/28/paris-las-vegas-hotel.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1124,\n            \"longitude\": -115.1704\n          },\n          \"ticketPricing\": \"Free to view from outside.  Viewing Deck: $25-$35.\",\n          \"timeToTravel\": \"Walkable from central Strip hotels.\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Take a ride on this giant observation wheel for panoramic views of the Strip. Prices vary depending on the time of day and day of the week, with off-peak hours typically cheaper.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Venues/high-roller/clv_venue_highroller_carousel01_1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1170,\n            \"longitude\": -115.1709\n          },\n          \"ticketPricing\": \"$25-$37\",\n          \"timeToTravel\": \"Adjacent to the LINQ Promenade.  Walkable from many central Strip hotels.\"\n        },\n        {\n          \"placeName\": \"Gambling\",\n          \"placeDetails\": \"Las Vegas is known for its gambling, if you have some budget for it, then you can try in Casinos\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Casino_Slots.jpg/640px-Casino_Slots.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1170,\n            \"longitude\": -115.1709\n          },\n          \"ticketPricing\": \"Prices Varies\",\n          \"timeToTravel\": \"Adjacent to the LINQ Promenade.  Walkable from many central Strip hotels.\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Bellagio fountains, the Conservatory, and Fremont Street Experience.\",\n    \"Look for happy hour deals and discounts on food and drinks.\",\n    \"Use public transportation (the Deuce bus) or ride-sharing services to save on transportation costs.\",\n    \"Bring your own snacks and drinks to avoid paying high prices at the hotels.\",\n    \"Consider visiting during the off-season for lower hotel rates and fewer crowds.\"\n  ]\n}\n```\n\n**Important Notes:**\n\n*   **Prices:** Hotel and attraction prices are estimates and can vary significantly based on the time of year, day of the week, and availability.  Book in advance, especially if traveling during peak season.\n*   **Transportation:**  Walking is a great way to see the Strip, but distances can be long.  The Deuce bus is a budget-friendly option.  Ride-sharing services (Uber/Lyft) are readily available.\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it based on your interests and energy levels.\n*   **Safety:** Be aware of your surroundings, especially at night. Stay hydrated, particularly in the summer months.\n*   **Reservations:**  Consider making reservations for restaurants and shows in advance, especially if you have specific preferences.\n*   **Check for Deals:** Look for package deals or discounts on attractions and shows before your trip. Websites like Groupon, Vegas.com, and Travelzoo often have deals.\n*   **Free Parking:** While many hotels charge for parking, some offer free parking, especially off-Strip. Check before you go.\n*   **Tipping:** Tipping is customary in Las Vegas for services like dining, drinks, and transportation.\n*   **Deuce Bus:** Consider buying a Deuce bus pass, which is a cost-effective way to travel up and down the Strip and to Downtown.\n\nThis detailed plan should give you a great starting point for planning your budget-friendly Vegas getaway. Enjoy your trip!\n"},
          ],
        },
      ],
    });
  
     